@using SecurityAgency.Common.ViewModels
@model CustomerHourlyRateViewModel
<script src="~/Scripts/AppJs/CustomerRateValidation.js"></script>

    <style type="text/css">
#EffectiveFrom { 
    width: 100%; 
}
#EffectiveTo { 
    width: 100%; 
}
</style>



<div class="widget-body">
    <form id="CustomerHourlyRate-form" class="form-horizontal form-label-left ">
        @Html.AntiForgeryToken()
        @Html.HiddenFor(model=>model.HourlyRateId)
        @*<input type="hidden" name="HourlyRateId" id="HourlyRateId" />*@
        <fieldset>
            <div class="form-group">
                <div class="col-sm-12">
                    @Html.TextBoxFor(model => model.HourlyRate, new { @class = "form-control", @placeholder = " Rate (e.g.=200)" })
                    @Html.ValidationMessageFor(model => model.HourlyRate)


                </div>
                </div>
            <div class="form-group">
                <div class="col-sm-12">
                    @Html.DropDownListFor(d => d.CustomerId, new SelectList(Model.CustomerList, "value", "text"), "Select Customer",  new { @class = "form-control"})
                    
                </div>
            </div>
                
               

                <div class="form-group">
                    <div class="col-sm-12">
                        @Html.EditorFor(model => model.EffectiveFrom, new { @class = "datepickercls", @placeholder = "Rates Effective From", type = "date", style = "width: 100%" })
                    </div>
                </div>
            <div class="form-group">
                <div class="col-sm-12">
                    @Html.EditorFor(model => model.EffectiveTo, new { @class = "form-control", @placeholder = "Rates Effective To", type = "date" })
                </div>
            </div>

</fieldset>
    </form>
    <div>
        <button onclick="CreateUpdateCustomerHourlyRate(@Model.HourlyRateId)" class="btn btn-success pull-right">Save</button>
        <button onclick="Common.closeGenericModal();" type="button" class="btn btn-danger">Cancel</button>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        if (@Model.HourlyRateId==0) {
            varEndDate = document.querySelector('#EffectiveFrom').value = new Date().toISOString().substring(0, 10);
            varBeginDate = document.querySelector('#EffectiveTo').value = new Date(new Date().setDate(new Date().getDate() + 14)).toISOString().substring(0, 10);
        }
    });
</script>